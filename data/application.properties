## OSL UNIFICATION SERVICE
## APPLICATION/ PORT
spring.application.name=osl-unificationService
server.port={{ required "need server port" .Values.server.port }}
service.port={{ required "need web service port" .Values.webservice.port }}
## SERVER SSL COMMUNICATION
server.ssl.client-auth=need
server.ssl.key-store=file:{{ required "need keystore path" .Values.ssl.certs }}/{{ .Values.ssl.keystore }}
server.ssl.key-store-password={{ required "need keystore path" .Values.ssl.keystorePassword }}
server.ssl.trust-store=file:{{ required "need truststore path" .Values.ssl.certs }}/{{ .Values.ssl.truststore }}
server.ssl.trust-store-password={{ required "need truststore password" .Values.ssl.truststorePassword }}

## POSTGRES DATABASE CONFIGURATION
spring.datasource.url=jdbc:postgresql://${DB_HOST}:5432/${DB_NAME}
spring.datasource.username=${POSTGRES_USER}
spring.datasource.password=${POSTGRES_PASSWORD}
spring.jpa.show-sql=false
spring.datasource.hikari.connection-timeout=20000
spring.datasource.hikari.maximum-pool-size=5
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
## HIBERNATE DDL AUTO (CREATE, CREATE-DROP, VALIDATE, UPDATE)
spring.jpa.generate-ddl=true
spring.jpa.hibernate.ddl-auto=update

## OSL UNIFICATION SERVICE CONFIGURATIONS
OSL_SCHEDULE_PERIOD_MILLIS={{ default "2000" .Values.unificationService.oslSchedulePeriodMillis }}
WAITINGEVENT_CONSUME_LIMIT={{ default "200" .Values.unificationService.waitingEventConsumeLimit }}
SOAP_CONNECT_TIMEOUT_IN_MILLIS={{ default "10000" .Values.unificationService.soapConnectTimeoutInMillis }}
ES2_VALIDITY_DATE_IN_SECONDS={{ default "300" .Values.unificationService.es2ValidityDateInSeconds }}
ES4_VALIDITY_DATE_IN_SECONDS={{ default "120" .Values.unificationService.es4ValidityDateInSeconds }}
SOAP_REQUEST_TIMEOUT={{ default "30000" .Values.unificationService.soapRequestTimeout }}

## LOGGING
logging.level.com.thales.osl={{ default "DEBUG" .Values.unificationService.loggingLevel }}

## SPRING SECURITY
spring.security.user.name=sergey
spring.security.user.password=sergey
spring.security.user.roles=manager

## ACTIVEMQ MESSAGING QUEUE
spring.activemq.broker-url=tcp://${BROKER_URL}:61616
spring.activemq.user=${AMQ_USER}
spring.activemq.password=${AMQ_PASSWORD}
spring.activemq.targetQueue=odc.targetQueue
spring.activemq.targetReply2Queue=odc.targetReply2Queue
spring.activemq.eventTopic=odc.startEventTopic
